<?xml version="1.0" encoding="utf-8"?>
<mujoco model="roarm_description">
  <compiler angle="radian" eulerseq="xyz" coordinate="local" meshdir="meshes"/>
  <option gravity="0 0 -9.81"/>

  <!-- 默认参数 -->
  <default>
    <joint damping="0.1" armature="0.001"/>
    <geom friction="0.8 0.1 0.1" density="2000"/>
  </default>

  <asset>
    <mesh name="base_link_mesh" file="base_link.STL"/>
    <mesh name="link1_mesh" file="link1.STL"/>
    <mesh name="link2_mesh" file="link2.STL"/>
    <mesh name="link3_mesh" file="link3.STL"/>
    <mesh name="gripper_link_mesh" file="gripper_link.STL"/>
    <material name="mat_grey" rgba="0.75 0.75 0.75 1"/>
    <material name="mat_dark" rgba="0.22 0.22 0.22 1"/>
  </asset>

  <worldbody>
    <body name="base_link" pos="0 0 0">
      <geom name="base_link_geom" type="mesh" mesh="base_link_mesh" material="mat_grey" />

      <body name="link1" pos="0.01 0 0.123" euler="0 0 0">
        <geom name="link1_geom" type="mesh" mesh="link1_mesh" material="mat_grey" />
        <joint name="base_link_to_link1" type="hinge" pos="0 0 0" axis="0 0 -1" range="-3.1416 3.1416"/>

        <body name="link2" pos="0 0 0" euler="-1.5708 -1.5708 0">
          <geom name="link2_geom" type="mesh" mesh="link2_mesh" material="mat_grey" />
          <joint name="link1_to_link2" type="hinge" pos="0 0 0" axis="0 0 -1" range="-1.5708 1.5708"/>

          <body name="link3" pos="0.237 0.03 0" euler="0 0 1.5708">
            <geom name="link3_geom" type="mesh" mesh="link3_mesh" material="mat_grey" />
            <joint name="link2_to_link3" type="hinge" pos="0 0 0" axis="0 0 1" range="-1 3.1416"/>

            <!-- gripper 手掌旋转，使掌心朝左 -->
            <body name="gripper_link" pos="0.0029 -0.216 -0.00067" euler="-1.5708 1.5708 -1.5708">
              <geom name="gripper_link_geom" type="mesh" mesh="gripper_link_mesh" material="mat_dark" />
              <joint name="link3_to_gripper_link" type="hinge" pos="0 0 0" axis="0 0 1" range="0 1.5"/>

              <site name="hand_tcp_site" pos="0.002 -0.2802 0" euler="-1.5708 1.5708 -1.5708"
                    size="0.002" type="sphere" rgba="0.1 0.8 0.1 0.8"/>
            </body>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <actuator>
    <position name="act_base_link_to_link1" joint="base_link_to_link1" kp="50" ctrlrange="-3.1416 3.1416"/>
    <position name="act_link1_to_link2" joint="link1_to_link2" kp="50" ctrlrange="-1.5708 1.5708"/>
    <position name="act_link2_to_link3" joint="link2_to_link3" kp="50" ctrlrange="-1 3.1416"/>
    <position name="act_link3_to_gripper_link" joint="link3_to_gripper_link" kp="50" ctrlrange="0 1.5"/>
  </actuator>
</mujoco>

